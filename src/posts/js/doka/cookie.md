---
title: "Cookie"
name: cookie
author: kamyshev
co-authors:
designers:
contributors:
summary:
  - cookie
  - куки
---

## Кратко
При разработке сайтов часто возникает необходимость получать доступ до какой-то информации о пользователе как в браузере, так и на сервере. Для этого используют **Cookie** (произносится «куки»). Браузер отправляет куки при каждом запросе на сервер, а сервер может модифицировать их при ответе.

## Как пользоваться
Описание установленых кук хранится в `document.cookie`. В этом свойстве глобального объекта лежит строка специального формата.

### Запись
Установить новую куку, можно записав специальную строку в `document.cookie`, например, так:
```js
document.cookie = "username=Igor";
```
Теперь в браузере есть кука с именем `username` и значением `Igor`.

К любой куке можно добавить дату, до которой она действует:
```js
document.cookie = "username=Igor; expires=Thu, 2 Feb 2023 12:00:00 UTC";
```
Теперь значение автоматически удалится после 12.00 UTC 2 февраля 2023 года.

Все куки устанавливаются в браузере для конкретной страницы. По умолчанию, они устанавливаются для текущей активной страницы пользователя. Но чаще всего, нужно чтобы кука была доступна для всего приложения. Это можно сделать так:
```js
document.cookie = "username=Igor; expires=Thu, 2 Feb 2023 12:00:00 UTC; path=/";
```

### Чтение
Чтобы прочитать куки в браузере, можно просто сохранить значение из `document.cookie`:
```js
const allCookies = document.cookie;
```
К сожалению, браузер вернет все куки в одной строке, разделенные точкой с запятой. То есть в переменной `allCookies` будет лежать строка такого вида:
```js
const allCookies = "cookie1=value; cookie2=value; cookie3=value;";
```

Чтобы получить значение конкретной куки, нужно разобрать строку и вытащить из нее конкретное значение.

### Удаление
Чтобы удалить куку, нужно стереть ее значение или вручную сделать куку устаревшей:
```js
document.cookie = "username=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
```

## В работе
Формат строки `document.cookie` не очень удобен для работы, поэтому обычно в проекте создают функции, которые упрощают чтение и запись кук. Чтобы не писать эти функции самостоятельно, можно взять библиотеку [js-cookie](https://github.com/js-cookie/js-cookie) — это совсем небольшая обертка над стандартным браузерным API, которая здорово упрощает жизнь.
С этой библиотекой установка значения для куки выполняется так:
```js
import Cookies from 'js-cookie';

Cookies.set('foo', 'bar');
```
А чтение так:
```js
import Cookies from 'js-cookie'

const nameFromCookie = Cookies.get('name');
```
Конечно, под капотом эта библиотека тоже работает с `document.cookie`, но снаружи она предоставляет простой и удобный интерфейс.
